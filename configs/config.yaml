# Anomaly Detection System Configuration

# Model Architecture
model:
  input_dim: 10  # Number of sensor inputs
  hidden_dim: 64  # LSTM hidden dimension
  latent_dim: 32  # Compressed representation dimension
  num_layers: 2  # Number of LSTM layers
  dropout: 0.2  # Dropout probability
  bidirectional: false  # Use bidirectional LSTM

# Training Parameters
training:
  epochs: 100
  batch_size: 32
  learning_rate: 0.001
  optimizer: 'adam'
  early_stopping: true
  patience: 10
  validation_split: 0.15
  
# Data Preprocessing
preprocessing:
  window_size: 100  # Sliding window size
  stride: 1  # Window stride
  scaler_type: 'standard'  # 'standard' or 'minmax'
  handle_missing: 'interpolate'  # 'drop', 'interpolate', 'forward_fill'
  remove_outliers: true
  outlier_method: 'iqr'  # 'iqr' or 'zscore'
  outlier_threshold: 3.0

# Anomaly Detection
detection:
  threshold_method: 'percentile'  # 'percentile', 'std', or 'mad'
  threshold_percentile: 95  # For percentile method
  contamination: 0.05  # Expected anomaly rate
  min_anomaly_duration: 3  # Minimum consecutive anomalous windows

# SAP Integration
sap:
  enabled: true
  server: 'your-sap-server.com'
  client: '100'
  system_number: '00'
  language: 'EN'
  use_rfc: true
  plant_code: '1000'
  order_type: 'PM01'  # Maintenance order type
  auto_create_orders: false  # Manual approval by default
  
  # Equipment mapping (sensor -> equipment ID)
  equipment_mapping:
    sensor_1: 'PUMP-001'
    sensor_2: 'PUMP-001'
    sensor_3: 'COMPRESSOR-001'
    sensor_4: 'COMPRESSOR-001'
    sensor_5: 'TURBINE-001'

# Real-time Monitoring
monitoring:
  enabled: true
  update_interval: 60  # seconds
  buffer_size: 1000  # samples to keep in memory
  alert_cooldown: 300  # seconds between alerts for same equipment

# Logging & Visualization
logging:
  level: 'INFO'  # DEBUG, INFO, WARNING, ERROR
  log_file: 'logs/anomaly_detection.log'
  save_predictions: true
  prediction_log: 'logs/predictions.csv'

# Dashboard
dashboard:
  port: 8501
  refresh_rate: 5  # seconds
  max_plot_points: 1000

# Database (optional)
database:
  enabled: false
  type: 'mongodb'  # 'mongodb', 'postgresql', 'sqlite'
  host: 'localhost'
  port: 27017
  name: 'anomaly_detection'

# Cloud Storage (optional)
cloud:
  enabled: false
  provider: 'aws'  # 'aws', 'gcp', 'azure'
  bucket: 'anomaly-detection-models'
  region: 'us-east-1'

# Performance
performance:
  use_gpu: true
  num_workers: 4
  pin_memory: true
  mixed_precision: false  # Use automatic mixed precision (AMP)
